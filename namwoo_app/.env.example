# ======================================================
# =               Namwoo - Damasco Config              =
# ======================================================
# Copy this file to .env and fill in your actual values.
# DO NOT commit your actual .env file to version control.

# --- Flask App Configuration ---
FLASK_APP=run.py
FLASK_ENV=development # Use 'production' for deployment
SECRET_KEY='generate-a-strong-random-key-here'

# --- Logging Configuration ---
LOG_LEVEL=DEBUG

# --- PostgreSQL Database Configuration ---
DATABASE_URL='postgresql://namwoo_user:your_strong_db_password@localhost:5432/namwoo_db'

# --- Scheduler settings ---
SYNC_INTERVAL_MINUTES=60 # Auto sync interval (set to 0 to disable auto-sync)

# --- LLM Provider Selection ---
LLM_PROVIDER=openai  # Use 'openai' or 'google'

# --- OpenAI API Configuration ---
OPENAI_API_KEY='sk-your-openai-api-key'
OPENAI_EMBEDDING_MODEL='text-embedding-3-small'
OPENAI_CHAT_MODEL='gpt-4o-mini'
OPENAI_MAX_TOKENS=1024
EMBEDDING_DIMENSION=1536

# --- Google Gemini API Configuration (Optional if using Google) ---
GOOGLE_API_KEY='your-google-api-key-here'
GOOGLE_GEMINI_MODEL='gemini-1.5-flash-latest'
GOOGLE_MAX_TOKENS=2048

# --- Damasco Product Source ---
# Path to the JSON file received from the fetcher EC2 instance
DAMASCO_PRODUCTS_FILE_PATH='./data/damasco_products.json'

# This is the shared secret used for HMAC signature verification
DAMASCO_API_SECRET='secret-key-for'

# --- Vector Storage Configuration ---
# Path to prompt file (if not using env var SYSTEM_PROMPT)
PROMPT_FILE_PATH='./data/system_prompt.txt'

# --- Support Board Integration ---
SUPPORT_BOARD_API_URL="https://your-supportboard-domain.com/include/api.php"
SUPPORT_BOARD_API_TOKEN="your_support_board_admin_api_token"
SUPPORT_BOARD_BOT_USER_ID="2"
SUPPORT_BOARD_WEBHOOK_SECRET="your_optional_webhook_secret_key"

# --- WhatsApp Cloud API Configuration ---
WHATSAPP_CLOUD_API_TOKEN="EAA...your_whatsapp_token..."
WHATSAPP_PHONE_NUMBER_ID="123456789012345"
WHATSAPP_DEFAULT_COUNTRY_CODE="58"
WHATSAPP_API_VERSION="v19.0"

# --- Human Agent Takeover Configuration ---
SUPPORT_BOARD_AGENT_IDS="1,5,10"
HUMAN_TAKEOVER_PAUSE_MINUTES=30

# --- Application Specific Settings ---
MAX_HISTORY_MESSAGES=16
PRODUCT_SEARCH_LIMIT=10

# --- System Prompt (Optional) ---
# If using PROMPT_FILE_PATH, you can leave this empty or as default.
# Otherwise, paste a short inline prompt here.
SYSTEM_PROMPT="Default assistant prompt. Load full prompt from PROMPT_FILE_PATH if needed."

# --- Celery Configuration (Celery 5+ expects lowercase keys) ---
broker_url=redis://localhost:6379/0
result_backend=redis://localhost:6379/0
task_serializer=json
result_serializer=json
accept_content=json
timezone=America/Caracas
enable_utc=true


